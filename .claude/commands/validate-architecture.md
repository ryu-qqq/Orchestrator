# /validate-architecture - ì•„í‚¤í…ì²˜ ê·œì¹™ ê²€ì¦

í”„ë¡œì íŠ¸ ì „ì²´ì˜ ì•„í‚¤í…ì²˜ ê·œì¹™ ì¤€ìˆ˜ ì—¬ë¶€ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.

## ì‚¬ìš©ë²•

```bash
/validate-architecture [directory]
```

## ì˜ˆì œ

```bash
# ì „ì²´ í”„ë¡œì íŠ¸ ê²€ì¦
/validate-architecture

# íŠ¹ì • ëª¨ë“ˆë§Œ ê²€ì¦
/validate-architecture domain
/validate-architecture application
```

## ì‘ì—… ìˆ˜í–‰

ë‹¹ì‹ ì€ **ì•„í‚¤í…ì²˜ ê²€ì¦ ì „ë¬¸ê°€**ì…ë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•˜ì„¸ìš”:

1. **ê²€ì¦ ë²”ìœ„ ê²°ì •**
   - ì¸ìê°€ ì—†ìœ¼ë©´ ì „ì²´ í”„ë¡œì íŠ¸ ê²€ì¦
   - ë””ë ‰í† ë¦¬ê°€ ì§€ì •ë˜ë©´ í•´ë‹¹ ëª¨ë“ˆë§Œ ê²€ì¦

2. **ë ˆì´ì–´ë³„ íŒŒì¼ ìˆ˜ì§‘**
   ```bash
   # Domain ë ˆì´ì–´
   find domain/src/main/java -name "*.java"

   # Application ë ˆì´ì–´
   find application/src/main/java -name "*.java"

   # Adapter-REST ë ˆì´ì–´
   find adapter/in/web/src/main/java -name "*.java"
   ```

3. **ê° íŒŒì¼ ê²€ì¦**
   - íŒŒì¼ ê²½ë¡œë¡œ ë ˆì´ì–´ ìë™ ê°ì§€
   - validation-helper.py ì‹¤í–‰
   - ê²€ì¦ ê²°ê³¼ ìˆ˜ì§‘

4. **í†µê³„ ë° ìš”ì•½**
   - ì´ ê²€ì¦ íŒŒì¼ ìˆ˜
   - í†µê³¼ íŒŒì¼ ìˆ˜
   - ì‹¤íŒ¨ íŒŒì¼ ìˆ˜
   - ë ˆì´ì–´ë³„ í†µê³„

5. **ì‹¤íŒ¨ íŒŒì¼ ìƒì„¸ ì •ë³´**
   - ê° ì‹¤íŒ¨ íŒŒì¼ì˜ ìœ„ë°˜ ê·œì¹™
   - ìˆ˜ì • ë°©ë²• ì œì•ˆ

## ê²€ì¦ ê·œì¹™ (ë ˆì´ì–´ë³„)

### Domain ë ˆì´ì–´
- âŒ Spring/JPA ì˜ì¡´ ê¸ˆì§€
- âŒ Getter ì²´ì´ë‹ ê¸ˆì§€
- âœ… Pure Java only

### Application ë ˆì´ì–´
- âŒ @Transactional ë‚´ ì™¸ë¶€ API í˜¸ì¶œ ê¸ˆì§€
- âœ… UseCase íŒ¨í„´ ì¤€ìˆ˜
- âœ… Command/Query ë¶„ë¦¬

### Adapter-REST ë ˆì´ì–´
- âŒ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨ ê¸ˆì§€
- âœ… @Valid ê²€ì¦ í•„ìˆ˜
- âœ… Mapper íŒ¨í„´ ì¤€ìˆ˜

## ì¶œë ¥ ì˜ˆì‹œ

### ì„±ê³µ ì¼€ì´ìŠ¤

```
---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê²€ì¦ ê²°ê³¼

### âœ… ì „ì²´ í†µê³„

- **ê²€ì¦ íŒŒì¼ ìˆ˜**: 45
- **í†µê³¼**: 45 (100%)
- **ì‹¤íŒ¨**: 0 (0%)

### ğŸ“Š ë ˆì´ì–´ë³„ í†µê³„

| ë ˆì´ì–´ | íŒŒì¼ ìˆ˜ | í†µê³¼ | ì‹¤íŒ¨ |
|--------|---------|------|------|
| Domain | 12 | 12 | 0 |
| Application | 18 | 18 | 0 |
| Adapter-REST | 15 | 15 | 0 |

âœ… **ëª¨ë“  íŒŒì¼ì´ ì•„í‚¤í…ì²˜ ê·œì¹™ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤!**

---
```

### ì‹¤íŒ¨ ì¼€ì´ìŠ¤

```
---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê²€ì¦ ê²°ê³¼

### âš ï¸ ì „ì²´ í†µê³„

- **ê²€ì¦ íŒŒì¼ ìˆ˜**: 45
- **í†µê³¼**: 42 (93%)
- **ì‹¤íŒ¨**: 3 (7%)

### ğŸ“Š ë ˆì´ì–´ë³„ í†µê³„

| ë ˆì´ì–´ | íŒŒì¼ ìˆ˜ | í†µê³¼ | ì‹¤íŒ¨ |
|--------|---------|------|------|
| Domain | 12 | 10 | 2 |
| Application | 18 | 18 | 0 |
| Adapter-REST | 15 | 14 | 1 |

### âŒ ì‹¤íŒ¨ íŒŒì¼ ìƒì„¸

#### 1. domain/.../Customer.java

**ê·œì¹™ ìœ„ë°˜**: Spring ì˜ì¡´ ê°ì§€
**ë¬¸ì œ**: @Entity annotation detected
**í•´ê²° ë°©ë²•**:
- @Entity ì œê±°
- JPA EntityëŠ” adapter/out/persistenceì— ìœ„ì¹˜

#### 2. domain/.../Order.java

**ê·œì¹™ ìœ„ë°˜**: Law of Demeter ìœ„ë°˜
**ë¬¸ì œ**: order.getCustomer().getAddress() detected
**í•´ê²° ë°©ë²•**:
- Getter ì²´ì´ë‹ ì œê±°
- Tell, Don't Ask íŒ¨í„´ ì ìš©

#### 3. adapter/.../OrderController.java

**ê·œì¹™ ìœ„ë°˜**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨
**ë¬¸ì œ**: Controller ë‚´ ê°€ê²© ê³„ì‚° ë¡œì§
**í•´ê²° ë°©ë²•**:
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ Domainìœ¼ë¡œ ì´ë™
- ControllerëŠ” UseCase í˜¸ì¶œë§Œ

---

ğŸ’¡ **ìœ„ ë¬¸ì œë¥¼ ìˆ˜ì •í•œ í›„ ë‹¤ì‹œ ê²€ì¦í•˜ì„¸ìš”.**

---
```

## ì„±ëŠ¥

- ê²€ì¦ ì†ë„: ~50ms per file
- ì „ì²´ í”„ë¡œì íŠ¸ (100 files): ~5ì´ˆ
- Cache ê¸°ë°˜ ê²€ì¦ìœ¼ë¡œ ë¹ ë¥¸ ì‹¤í–‰

## ì°¸ê³ 

- ëª¨ë“  ë ˆì´ì–´ì˜ ê·œì¹™ì„ í†µí•© ê²€ì¦
- CI/CD íŒŒì´í”„ë¼ì¸ì— í†µí•© ê°€ëŠ¥
- Pre-commit hookìœ¼ë¡œ ìë™ ì‹¤í–‰ ê°€ëŠ¥

